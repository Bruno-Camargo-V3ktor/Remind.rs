{"schemas":"DEFINE TABLE IF NOT EXISTS notes SCHEMAFULL;\n\nDEFINE FIELD IF NOT EXISTS id ON notes TYPE UUID;\nDEFINE FIELD IF NOT EXISTS title ON notes TYPE string;\nDEFINE FIELD IF NOT EXISTS content ON notes TYPE string;\nDEFINE FIELD IF NOT EXISTS color ON notes TYPE number;\nDEFINE FIELD IF NOT EXISTS created_at ON notes VALUE type::datetime($value);\nDEFINE FIELD IF NOT EXISTS updated_at ON notes VALUE type::datetime($value);\n\nDEFINE FIELD IF NOT EXISTS user_id on notes TYPE Record<users>;\nDEFINE FIELD IF NOT EXISTS propertys on notes TYPE array<Record<propertys>>;\n\nDEFINE TABLE IF NOT EXISTS users SCHEMAFULL;\n\nDEFINE FIELD IF NOT EXISTS id ON users TYPE UUID;\nDEFINE FIELD IF NOT EXISTS name ON users TYPE string;\nDEFINE FIELD IF NOT EXISTS email ON users TYPE string;\nDEFINE FIELD IF NOT EXISTS password ON users TYPE string;\nDEFINE FIELD IF NOT EXISTS bio ON users TYPE string;\nDEFINE FIELD IF NOT EXISTS photo_url ON users TYPE string;\nDEFINE FIELD IF NOT EXISTS created_at ON TABLE users VALUE type::datetime($value);\nDEFINE FIELD IF NOT EXISTS updated_at ON TABLE users VALUE type::datetime($value);\nDEFINE INDEX IF NOT EXISTS userEmailIndex ON TABLE users COLUMNS email UNIQUE;\n\nDEFINE TABLE IF NOT EXISTS propertys SCHEMAFULL;\n\nDEFINE FIELD IF NOT EXISTS id ON propertys TYPE UUID;\nDEFINE FIELD IF NOT EXISTS name ON propertys TYPE string;\nDEFINE FIELD IF NOT EXISTS color ON propertys TYPE number;\nDEFINE FIELD IF NOT EXISTS value ON propertys TYPE number;\nDEFINE FIELD IF NOT EXISTS type ON propertys TYPE \"Category\" | \"Priority\";\nDEFINE FIELD IF NOT EXISTS created_at ON TABLE propertys VALUE type::datetime($value);\nDEFINE FIELD IF NOT EXISTS updated_at ON TABLE propertys VALUE type::datetime($value);\n\nDEFINE FIELD IF NOT EXISTS user_id on propertys TYPE Record<users>;\n\nDEFINE EVENT IF NOT EXISTS clean_property_reg ON TABLE propertys\nWHEN $event = \"DELETE\" THEN (\n    UPDATE notes SET propertys -= $before.id WHERE propertys CONTAINS $before.id\n);\n\nDEFINE TABLE OVERWRITE script_migration SCHEMAFULL\n    PERMISSIONS\n        FOR select FULL\n        FOR create, update, delete NONE;\n\nDEFINE FIELD OVERWRITE script_name ON script_migration TYPE string;\nDEFINE FIELD OVERWRITE executed_at ON script_migration TYPE datetime VALUE time::now() READONLY;\nDEFINE FIELD OVERWRITE checksum ON script_migration TYPE option<string>;\n","events":""}